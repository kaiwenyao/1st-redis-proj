### 缓存穿透Cache Penetration

如果发起查询请求，查询一个***不存在的内容***，比如id=-1，就会导致每次redis中都查不到 --> 每次都要去数据库中查找，大大增加压力。

所以，当数据库发现没有这个数据的时候，要把一个**空值**存储到redis。下次再查询这个不存在的内容，就直接返回redis中这个空值。

### 缓存击穿 Cache Breakdown

redis中的数据有ttl 会过期。

如果如果在过期时，恰好有很大量的请求发送，则这些请求发现redis中没有，都会去数据库中进行查询。

解决办法：***互斥锁***

第一个发现redis中不存在数据的线程，尝试获取锁，一旦获取到，就去数据库中进行查询和保存到redis。后面的进程虽然发现redis中不存在数据，但是拿不到锁，就没办法去找数据库。只能等之前的线程去数据库中找到，然后从redis中读取。